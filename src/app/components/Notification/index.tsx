import styled from 'styled-components/macro';

const Root = styled.div`
  align-self: center;
  display: flex;
  position: absolute;
  top: calc(env(safe-area-inset-top) + 16px);
  width: calc(100% - 2 * 16px);
  padding: 10px 24px;
  background-color: #f16d83;
  border-radius: 16px;
  box-shadow: 0 0px 30px 0 rgba(241, 109, 131, 0.2);
  transition: top 0.2s;
  z-index: 2;
`;

const Container = styled.div`
  display: flex;
  align-items: center;
  justify-content: center;
  column-gap: 16px;
`;

const MessageText = styled.div`
  color: #ffffff;
  font-size: 14px;
  font-weight: 500;
`;

export default function Notification({
  onClick,
  isVisible,
  message,
}: {
  onClick: () => void;
  isVisible: boolean;
  message: string;
}) {
  return (
    <Root onClick={onClick} style={{ top: isVisible ? undefined : '-100%' }}>
      <Container>
        <svg
          width="28"
          height="28"
          viewBox="0 0 28 28"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M24.2982 14.875H21.8301C21.5822 14.875 21.3744 14.7911 21.2068 14.6233C21.039 14.4555 20.9551 14.2476 20.9551 13.9997C20.9551 13.7516 21.039 13.5438 21.2068 13.3764C21.3744 13.2088 21.5822 13.125 21.8301 13.125H24.2982C24.5461 13.125 24.7539 13.2089 24.9215 13.3767C25.0893 13.5445 25.1732 13.7524 25.1732 14.0003C25.1732 14.2484 25.0893 14.4562 24.9215 14.6236C24.7539 14.7912 24.5461 14.875 24.2982 14.875ZM19.4451 19.4991C19.5947 19.2941 19.7858 19.1759 20.0186 19.1444C20.2511 19.1131 20.4699 19.1722 20.6748 19.3218L22.6424 20.8002C22.8473 20.9499 22.9655 21.1411 22.9968 21.3736C23.0283 21.6062 22.9691 21.8249 22.8194 22.0299C22.6699 22.2346 22.4789 22.3528 22.2463 22.3843C22.0137 22.4158 21.795 22.3566 21.5901 22.2069L19.6225 20.7285C19.4175 20.5789 19.2994 20.3879 19.2681 20.1553C19.2366 19.9228 19.2956 19.704 19.4451 19.4991ZM22.5975 7.15488L20.6299 8.63334C20.4249 8.78287 20.2062 8.84198 19.9736 8.81068C19.7411 8.77918 19.5499 8.66095 19.4002 8.45601C19.2507 8.25126 19.1917 8.03251 19.2232 7.79976C19.2545 7.5672 19.3726 7.37616 19.5776 7.22664L21.5451 5.74818C21.7501 5.59865 21.9688 5.53954 22.2014 5.57084C22.4339 5.60234 22.6251 5.72047 22.7748 5.92522C22.9243 6.13016 22.9833 6.34891 22.9518 6.58147C22.9205 6.81422 22.8024 7.00536 22.5975 7.15488ZM6.12501 17.0065H4.93588C4.35586 17.0065 3.85934 16.8 3.44634 16.387C3.03334 15.974 2.82684 15.4775 2.82684 14.8975V13.1026C2.82684 12.5225 3.03334 12.026 3.44634 11.613C3.85934 11.2 4.35586 10.9935 4.93588 10.9935H9.44564L13.0734 8.82409C13.4249 8.61312 13.7794 8.61195 14.1368 8.82059C14.4944 9.02904 14.6732 9.33305 14.6732 9.73263V18.2674C14.6732 18.667 14.4944 18.971 14.1368 19.1794C13.7794 19.3881 13.4249 19.3869 13.0734 19.1759L9.44564 17.0065H7.87501V20.6859C7.87501 20.9338 7.79111 21.1416 7.6233 21.3092C7.4555 21.477 7.24764 21.5609 6.99972 21.5609C6.75161 21.5609 6.54384 21.477 6.37643 21.3092C6.20882 21.1416 6.12501 20.9338 6.12501 20.6859V17.0065ZM16.2884 17.6391V10.3609C16.7462 10.7752 17.1148 11.2982 17.3944 11.9298C17.6742 12.5613 17.8141 13.2523 17.8141 14.0026C17.8141 14.7532 17.6742 15.4434 17.3944 16.0732C17.1148 16.7028 16.7462 17.2248 16.2884 17.6391Z"
            fill="#ffffff"
          />
        </svg>
        <MessageText>{message}</MessageText>
      </Container>
    </Root>
  );
}
